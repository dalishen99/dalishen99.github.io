
<!DOCTYPE html>
<!-- <script>
  // VConsole will be exported to `window.VConsole` by default.
  // var vConsole = new window.VConsole();
  function sleep (t = 1000) {
      console.log('>>> sleep start');
      let startTime = +(new Date());
      let curTime = startTime;
      while (true) {
          curTime = +(new Date());
          if (curTime - startTime >= t) break;
      }
      console.log('>>> sleep finish');
  }

  // test
  sleep(10000);
</script> -->
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>剪贴板读取测试</title>


</head>
<body>
<div>调用剪贴板测试.....</div>

<script>

if (navigator != null && window.location.toString().toUpperCase().indexOf("HTTPS") > -1) {//不要使用F12跟踪 F12 跟踪时此逻辑报错，为浏览器的防止泄露方式
  navigator.permissions.query({ name: "clipboard-read" }).then(result => {
    if (result.state === "granted" || result.state == "prompt") {
      navigator.clipboard.readText()
        .then(text => {
        console.log('text为剪切板文本');
        alert(text);
        
      })
        .catch(err => {
        
        console.log("粘贴操作失败，请使用快捷键CTRL+V进行粘贴");
      });
    }
    else {
      console.log("当前无操作权限。请使用最新版本Chrome浏览器，并在浏览器高级设置-页面设置中允许访问剪切板");
    }
  });
       }





</script>
</body>
</html>

